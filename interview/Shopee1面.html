<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>介绍jsonp、以及他的原理 | 前端学习文档</title>
    <meta name="description" content="">
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico">
    
    <link rel="preload" href="/Front-end-notes/assets/css/0.styles.8eb3e75f.css" as="style"><link rel="preload" href="/Front-end-notes/assets/js/app.baf04e08.js" as="script"><link rel="preload" href="/Front-end-notes/assets/js/2.483483f3.js" as="script"><link rel="preload" href="/Front-end-notes/assets/js/16.bdb2989e.js" as="script"><link rel="prefetch" href="/Front-end-notes/assets/js/10.05da58bd.js"><link rel="prefetch" href="/Front-end-notes/assets/js/100.23a6001b.js"><link rel="prefetch" href="/Front-end-notes/assets/js/101.3a576c89.js"><link rel="prefetch" href="/Front-end-notes/assets/js/102.9e45332b.js"><link rel="prefetch" href="/Front-end-notes/assets/js/103.1f556d3a.js"><link rel="prefetch" href="/Front-end-notes/assets/js/104.f40dd3d9.js"><link rel="prefetch" href="/Front-end-notes/assets/js/105.6f10dbd7.js"><link rel="prefetch" href="/Front-end-notes/assets/js/11.55e46e09.js"><link rel="prefetch" href="/Front-end-notes/assets/js/12.ac1fe5c0.js"><link rel="prefetch" href="/Front-end-notes/assets/js/13.bf1300b6.js"><link rel="prefetch" href="/Front-end-notes/assets/js/14.7fc6b372.js"><link rel="prefetch" href="/Front-end-notes/assets/js/15.25be46ef.js"><link rel="prefetch" href="/Front-end-notes/assets/js/17.8a83b60f.js"><link rel="prefetch" href="/Front-end-notes/assets/js/18.fb18ac4f.js"><link rel="prefetch" href="/Front-end-notes/assets/js/19.7f87cf3f.js"><link rel="prefetch" href="/Front-end-notes/assets/js/20.49743432.js"><link rel="prefetch" href="/Front-end-notes/assets/js/21.6e0e438e.js"><link rel="prefetch" href="/Front-end-notes/assets/js/22.68ec9247.js"><link rel="prefetch" href="/Front-end-notes/assets/js/23.7863f172.js"><link rel="prefetch" href="/Front-end-notes/assets/js/24.321fe404.js"><link rel="prefetch" href="/Front-end-notes/assets/js/25.c8346676.js"><link rel="prefetch" href="/Front-end-notes/assets/js/26.15fd0198.js"><link rel="prefetch" href="/Front-end-notes/assets/js/27.47722f63.js"><link rel="prefetch" href="/Front-end-notes/assets/js/28.b3e9d07c.js"><link rel="prefetch" href="/Front-end-notes/assets/js/29.97c6127f.js"><link rel="prefetch" href="/Front-end-notes/assets/js/3.d4121561.js"><link rel="prefetch" href="/Front-end-notes/assets/js/30.e8ffa492.js"><link rel="prefetch" href="/Front-end-notes/assets/js/31.fdcc1094.js"><link rel="prefetch" href="/Front-end-notes/assets/js/32.a09f9050.js"><link rel="prefetch" href="/Front-end-notes/assets/js/33.aaea76dd.js"><link rel="prefetch" href="/Front-end-notes/assets/js/34.7221f644.js"><link rel="prefetch" href="/Front-end-notes/assets/js/35.27005ec1.js"><link rel="prefetch" href="/Front-end-notes/assets/js/36.9e109017.js"><link rel="prefetch" href="/Front-end-notes/assets/js/37.3d038a7b.js"><link rel="prefetch" href="/Front-end-notes/assets/js/38.7751965b.js"><link rel="prefetch" href="/Front-end-notes/assets/js/39.d4a3e5b1.js"><link rel="prefetch" href="/Front-end-notes/assets/js/4.6421670c.js"><link rel="prefetch" href="/Front-end-notes/assets/js/40.f8e37ddd.js"><link rel="prefetch" href="/Front-end-notes/assets/js/41.28ff7e40.js"><link rel="prefetch" href="/Front-end-notes/assets/js/42.08d18b1e.js"><link rel="prefetch" href="/Front-end-notes/assets/js/43.89288dc4.js"><link rel="prefetch" href="/Front-end-notes/assets/js/44.76c11799.js"><link rel="prefetch" href="/Front-end-notes/assets/js/45.a42a84be.js"><link rel="prefetch" href="/Front-end-notes/assets/js/46.9095efdc.js"><link rel="prefetch" href="/Front-end-notes/assets/js/47.3e375a97.js"><link rel="prefetch" href="/Front-end-notes/assets/js/48.1876be0d.js"><link rel="prefetch" href="/Front-end-notes/assets/js/49.9b224899.js"><link rel="prefetch" href="/Front-end-notes/assets/js/5.8835de0d.js"><link rel="prefetch" href="/Front-end-notes/assets/js/50.d3e82f6b.js"><link rel="prefetch" href="/Front-end-notes/assets/js/51.202d9093.js"><link rel="prefetch" href="/Front-end-notes/assets/js/52.4dd22dfc.js"><link rel="prefetch" href="/Front-end-notes/assets/js/53.0f8ad6d1.js"><link rel="prefetch" href="/Front-end-notes/assets/js/54.0034bb77.js"><link rel="prefetch" href="/Front-end-notes/assets/js/55.7da27de7.js"><link rel="prefetch" href="/Front-end-notes/assets/js/56.bc4cd536.js"><link rel="prefetch" href="/Front-end-notes/assets/js/57.62976fae.js"><link rel="prefetch" href="/Front-end-notes/assets/js/58.df824a5c.js"><link rel="prefetch" href="/Front-end-notes/assets/js/59.f4065e03.js"><link rel="prefetch" href="/Front-end-notes/assets/js/6.075df2f2.js"><link rel="prefetch" href="/Front-end-notes/assets/js/60.0edb4ef9.js"><link rel="prefetch" href="/Front-end-notes/assets/js/61.124283a4.js"><link rel="prefetch" href="/Front-end-notes/assets/js/62.1eb7d3bd.js"><link rel="prefetch" href="/Front-end-notes/assets/js/63.ba85f88d.js"><link rel="prefetch" href="/Front-end-notes/assets/js/64.8780cff8.js"><link rel="prefetch" href="/Front-end-notes/assets/js/65.377b8d4b.js"><link rel="prefetch" href="/Front-end-notes/assets/js/66.4a750375.js"><link rel="prefetch" href="/Front-end-notes/assets/js/67.33810eba.js"><link rel="prefetch" href="/Front-end-notes/assets/js/68.6fdc0c3a.js"><link rel="prefetch" href="/Front-end-notes/assets/js/69.5fa6fed0.js"><link rel="prefetch" href="/Front-end-notes/assets/js/7.90dbb4a1.js"><link rel="prefetch" href="/Front-end-notes/assets/js/70.d36f4922.js"><link rel="prefetch" href="/Front-end-notes/assets/js/71.dcfccf82.js"><link rel="prefetch" href="/Front-end-notes/assets/js/72.83a8e2a0.js"><link rel="prefetch" href="/Front-end-notes/assets/js/73.1b9f87e6.js"><link rel="prefetch" href="/Front-end-notes/assets/js/74.ce1ca867.js"><link rel="prefetch" href="/Front-end-notes/assets/js/75.2ff90135.js"><link rel="prefetch" href="/Front-end-notes/assets/js/76.c532f380.js"><link rel="prefetch" href="/Front-end-notes/assets/js/77.95f7df63.js"><link rel="prefetch" href="/Front-end-notes/assets/js/78.ff704320.js"><link rel="prefetch" href="/Front-end-notes/assets/js/79.8ad56b51.js"><link rel="prefetch" href="/Front-end-notes/assets/js/8.1da1d995.js"><link rel="prefetch" href="/Front-end-notes/assets/js/80.0939cc18.js"><link rel="prefetch" href="/Front-end-notes/assets/js/81.d7196c22.js"><link rel="prefetch" href="/Front-end-notes/assets/js/82.aaf90e66.js"><link rel="prefetch" href="/Front-end-notes/assets/js/83.a2d3945e.js"><link rel="prefetch" href="/Front-end-notes/assets/js/84.f048e484.js"><link rel="prefetch" href="/Front-end-notes/assets/js/85.fd8c79f2.js"><link rel="prefetch" href="/Front-end-notes/assets/js/86.cc38f406.js"><link rel="prefetch" href="/Front-end-notes/assets/js/87.7dcd2a98.js"><link rel="prefetch" href="/Front-end-notes/assets/js/88.bb96d8f5.js"><link rel="prefetch" href="/Front-end-notes/assets/js/89.ae1f75dc.js"><link rel="prefetch" href="/Front-end-notes/assets/js/9.0844d1bc.js"><link rel="prefetch" href="/Front-end-notes/assets/js/90.a5dcc61c.js"><link rel="prefetch" href="/Front-end-notes/assets/js/91.6ef81c1c.js"><link rel="prefetch" href="/Front-end-notes/assets/js/92.5c9b313b.js"><link rel="prefetch" href="/Front-end-notes/assets/js/93.fe0ad5aa.js"><link rel="prefetch" href="/Front-end-notes/assets/js/94.78b81821.js"><link rel="prefetch" href="/Front-end-notes/assets/js/95.4bc3f1d7.js"><link rel="prefetch" href="/Front-end-notes/assets/js/96.bb6e9e4d.js"><link rel="prefetch" href="/Front-end-notes/assets/js/97.8c475229.js"><link rel="prefetch" href="/Front-end-notes/assets/js/98.866e02ac.js"><link rel="prefetch" href="/Front-end-notes/assets/js/99.d2b2547e.js">
    <link rel="stylesheet" href="/Front-end-notes/assets/css/0.styles.8eb3e75f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Front-end-notes/" class="home-link router-link-active"><!----> <span class="site-name">前端学习文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Front-end-notes/JavaScript/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/Front-end-notes/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/Front-end-notes/html/" class="nav-link">HTML</a></div><div class="nav-item"><a href="/Front-end-notes/web/" class="nav-link">网络</a></div><div class="nav-item"><a href="/Front-end-notes/project/" class="nav-link">项目构建</a></div><div class="nav-item"><a href="/Front-end-notes/algorithm/" class="nav-link">算法集合</a></div><div class="nav-item"><a href="/Front-end-notes/framework/" class="nav-link">框架</a></div><div class="nav-item"><a href="/Front-end-notes/interview/" class="nav-link router-link-active">面试题</a></div><div class="nav-item"><a href="/Front-end-notes/books/" class="nav-link">读书笔记</a></div> <a href="https://github.com/syun0216/Front-end-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Front-end-notes/JavaScript/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/Front-end-notes/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/Front-end-notes/html/" class="nav-link">HTML</a></div><div class="nav-item"><a href="/Front-end-notes/web/" class="nav-link">网络</a></div><div class="nav-item"><a href="/Front-end-notes/project/" class="nav-link">项目构建</a></div><div class="nav-item"><a href="/Front-end-notes/algorithm/" class="nav-link">算法集合</a></div><div class="nav-item"><a href="/Front-end-notes/framework/" class="nav-link">框架</a></div><div class="nav-item"><a href="/Front-end-notes/interview/" class="nav-link router-link-active">面试题</a></div><div class="nav-item"><a href="/Front-end-notes/books/" class="nav-link">读书笔记</a></div> <a href="https://github.com/syun0216/Front-end-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/Front-end-notes/interview/" class="sidebar-link">面试</a></li><li><a href="/Front-end-notes/interview/大漠面试3.html" class="sidebar-link">大漠面试3</a></li><li><a href="/Front-end-notes/interview/大漠面试4.html" class="sidebar-link">大漠面试4</a></li><li><a href="/Front-end-notes/interview/乐信2面.html" class="sidebar-link">乐信2面</a></li><li><a href="/Front-end-notes/interview/Shopee1面.html" class="active sidebar-link">Shopee1面</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Front-end-notes/interview/高频面试总结.html" class="sidebar-link">高频面试总结</a></li><li><a href="/Front-end-notes/interview/大前端面试宝典.html" class="sidebar-link">大前端面试宝典</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="介绍jsonp、以及他的原理"><a href="#介绍jsonp、以及他的原理" class="header-anchor">#</a> 介绍jsonp、以及他的原理</h3> <h3 id="什么时候会引起跨域"><a href="#什么时候会引起跨域" class="header-anchor">#</a> 什么时候会引起跨域</h3> <p>同源策略：</p> <table><thead><tr><th style="text-align:left;">URL</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">是否允许通信</th></tr></thead> <tbody><tr><td style="text-align:left;">http://www.a.com/a.js <br> http://www.b.com/b.js</td> <td style="text-align:left;">同一域名下</td> <td style="text-align:left;">允许</td></tr> <tr><td style="text-align:left;">http://www.a.com/lab/a.js <br> http://www.b.com/script/b.js</td> <td style="text-align:left;">同一域名下不同文件夹</td> <td style="text-align:left;">允许</td></tr> <tr><td style="text-align:left;">http://www.a.com:8000/a.js <br> http://www.b.com/b.js</td> <td style="text-align:left;">同一域名下不同端口</td> <td style="text-align:left;">不允许</td></tr> <tr><td style="text-align:left;">https://www.a.com/a.js <br> http://www.b.com/b.js</td> <td style="text-align:left;">同一域名下不同协议</td> <td style="text-align:left;">不允许</td></tr> <tr><td style="text-align:left;">http://www.a.com/a.js <br> http://70.32.92.74/b.js</td> <td style="text-align:left;">域名和域名对应的ip</td> <td style="text-align:left;">不允许</td></tr> <tr><td style="text-align:left;">http://www.a.com/a.js <br> http://script.a.com/b.js</td> <td style="text-align:left;">主域相同子域不同</td> <td style="text-align:left;">不允许</td></tr> <tr><td style="text-align:left;">http://www.a.com/a.js <br> http://a.com/b.js</td> <td style="text-align:left;">同一域名，不同二级域名(同上)</td> <td style="text-align:left;">不允许（cookie这种情况下也不允许访问）</td></tr> <tr><td style="text-align:left;">http://www.baidu.com/a.js <br> http://www.a.com/b.js</td> <td style="text-align:left;">不同域名</td> <td style="text-align:left;">不允许</td></tr></tbody></table> <p>解决跨域的方法：</p> <ul><li>JSONP
<ul><li>前端设置好回调函数，并将其作为url的参数</li> <li>服务端接受到请求后，获得参数中的回调函数名，并将数据放在参数中将其返回</li> <li>收到script，放在src中执行</li> <li>优点：
<ol><li>不受同源策略限制</li> <li>兼容性很好，古老的浏览器也能很好的运行</li> <li>不需要XMLHttpRequest或ActiveX的支持；可以通过callback的方式回传结果</li></ol></li> <li>缺点：
<ol><li>只支持get而不支持post等其他类型的http请求</li> <li>只支持跨域http请求，不支持不同于的两个页面或者iframe之间进行数据通信的问题</li></ol></li></ul></li> <li>CORS(Cross-origin resource sharing) 跨域资源共享
<ul><li>Access-Control-Allow-Origin</li> <li>优点/缺点：
<ol><li>使用简单方便，更为安全</li> <li>支持post请求方式</li> <li>cors是一种新型的跨域问题解决方案，存在兼容问题</li></ol></li></ul></li> <li>Server Proxy；服务器代理</li> <li>location.hash</li> <li>window.name</li> <li>postMessage</li> <li>document.domain</li></ul> <blockquote><p>参考<a href="https://zhuanlan.zhihu.com/p/25778815" target="_blank" rel="noopener noreferrer">关于跨域，你想知道的全在这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="iframe的数据传递"><a href="#iframe的数据传递" class="header-anchor">#</a> iframe的数据传递</h3> <blockquote><p>参考<a href="https://www.jianshu.com/p/90cd15e0699f" target="_blank" rel="noopener noreferrer">iframe父子页面之间的通信<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <ol><li>同域情况下的父子页面通信</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 父页面 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>callChild()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 调用儿子的方法 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>son<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://localhost:8080/index.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
   <span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;i am father page&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">callChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      mySon<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      mySon<span class="token punctuation">.</span>window<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'调用结束'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'i am child page'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">callFather</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    parent<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    parent<span class="token punctuation">.</span>window<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'调用结束'</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>callFather()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 调用爸爸的方法 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="大文件下载用什么请求"><a href="#大文件下载用什么请求" class="header-anchor">#</a> 大文件下载用什么请求</h3> <h3 id="get和post的区别"><a href="#get和post的区别" class="header-anchor">#</a> get和post的区别</h3> <p><a href="https://www.zhihu.com/question/28586791" target="_blank" rel="noopener noreferrer">get和post到底有什么区别<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="https交换过程"><a href="#https交换过程" class="header-anchor">#</a> https交换过程</h3> <img src="/Front-end-notes/assets/img/https.5b404b5c.png"> <ol><li>客户端发起HTTPS请求，用户在浏览器中输入一个https网址，然后连接到服务端的443端口</li> <li>服务端配置：采取https协议的服务器必须有一套数字证书，这个证书是一对公钥和私钥</li> <li>传送证书：这个证书就是公钥，包含（证书颁发机构、过期时间等）</li> <li>客户端解析证书 这部分工作是由客户端的SSL/TLS来完成的，首先会验证公钥是否有效，如果发现异常，会弹出警示框。若没问题，则生成一个<strong>随机数</strong>，然后用公钥对随机数进行加密</li> <li>传输加密信息：这部分传送的是用证书加密后的随机值</li> <li>服务端解密信息，服务端用私钥解密后，得到客户传过来的随机值，然后把内容通过该随机值进行对称加密，将信息和私钥通过算法混合在一起</li> <li>传输加密后的信息</li> <li>客户端解密信息 客户端用之前生产的私钥解密服务端传过来的信息，</li></ol> <h4 id="对称加密与非对称加密"><a href="#对称加密与非对称加密" class="header-anchor">#</a> 对称加密与非对称加密</h4> <p>对称加密： 值得就是加、解密使用的都是同一串密钥，。对称加密只有一个密钥作为私钥。
常见的对称加密算法：DES,AES等。<br>
对称加密的优缺点：对称加密相比非对称加密效率要高很多，加密速度要快很多。但是缺陷在于对于密钥的管理和分发上比较困难，不是非常安全，密钥管理负担很重。<br>
非对称加密：指加解密使用不同的密钥，一把作为公开的公钥，另一把作为私钥。公钥加密的信息，只有私钥才能解密。反之同理。<br>
非对称加密优缺点：安全行更高，公钥是公开的，密钥是自己保存的，不需要将私钥给别人。缺点：加密和解密花费时间长、速度慢，只适合对少量数据进行加密。</p> <h4 id="http请求头构成"><a href="#http请求头构成" class="header-anchor">#</a> http请求头构成</h4> <blockquote><p>参考<a href="https://juejin.im/post/5cda1426f265da038733c22e" target="_blank" rel="noopener noreferrer">HTTP的结构<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <img src="/Front-end-notes/assets/img/http_head.738f8e3c.png"> <p>http请求报文由三部分组成：请求行(请求头)、消息报头、请求正文。</p> <ul><li>请求头以一个方法符号开头，以空格分开，后面跟着请求的URI和协议的版本，先后顺序为: Method Request-URI HTTP-Version CRLF
<ul><li>Method: 请求方法</li> <li>Request-URI: 统一资源标识符</li> <li>HTTP-Version：表示请求的HTTP协议版本</li> <li>CRLF表示回车和换行
HTTP结构之消息报文<br>
HTTP消息由客户端到服务器的请求和服务器到客户端的响应组成。请求消息和响应消息都是由开始行（对于请求消息，开始行就是请求行，对于响应消息，开始行就是状态行），消息报头（可选），空行（只有CRLF的行），消息正文（可选）组成。
HTTP消息报头包括普通报头、请求报头、响应报头、实体报头。
每一个报头域都是由名字+“：”+空格+值 组成，消息报头域的名字是大小写无关的。</li></ul></li> <li>普通报头
在普通报文头中，有少数报头域用于所有的请求和响应消息，但并不用于被传输的实体，只用于传输的消息。常见的普通报头：Cache-Control、Date、Connection</li> <li>请求报文
请求报头允许客户端向服务器端传递请求的附加信息以及客户端自身的信息。常见的请求报头：Accept、Accept-Charset、Accept-Encoding、Accept-Language</li> <li>响应报头</li> <li>实体报头
Content-Encoding、Content-Language、Content-Length、Content-Type、Last-Modified、Expires</li></ul> <h3 id="http缓存"><a href="#http缓存" class="header-anchor">#</a> http缓存</h3> <p><a href="https://juejin.im/entry/599afbe5f265da247c4ee6e3" target="_blank" rel="noopener noreferrer">http缓存详解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="if-modified-since-和last-modofied的区别"><a href="#if-modified-since-和last-modofied的区别" class="header-anchor">#</a> if-modified-since 和last-modofied的区别</h4> <blockquote><p>参考<a href="https://blog.csdn.net/eroswang/article/details/8302191" target="_blank" rel="noopener noreferrer">浏览器缓存详解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <img src="/Front-end-notes/assets/img/cache_http.0ff04728.jpg"> <p>在浏览器第一次请求某一个URL时，服务器端的返回状态会是200，内容是你请求的资源，同时有一个Last-Modified的属性标记(HttpReponse Header)此文件在服务期端最后被修改的时间，格式类似这样：</p> <p>Last-Modified:Tue, 24 Feb 2009 08:01:04 GMT</p> <p>客户端第二次请求此URL时，根据HTTP协议的规定，浏览器会向服务器传送If-Modified-Since报头(HttpRequest Header)，询问该时间之后文件是否有被修改过：</p> <p>If-Modified-Since:Tue, 24 Feb 2009 08:01:04 GMT</p> <p>如果服务器端的资源没有变化，则自动返回HTTP304（NotChanged.）状态码，内容为空，这样就节省了传输数据量。当服务器端代码发生改变或者重启服务器时，则重新发出资源，返回和第一次请求时类似。从而保证不向客户端重复发出资源，也保证当服务器有变化时，客户端能够得到最新的资源。</p> <h4 id="etag是依据什么生成的"><a href="#etag是依据什么生成的" class="header-anchor">#</a> Etag是依据什么生成的</h4> <p>文件内容</p> <p>HTTP协议规格说明定义ETag为“被请求变量的实体标记”（参见14.19）。简单点即服务器响应时给请求URL标记，并在HTTP响应头中将其传送到客户端，类似服务器端返回的格式：</p> <p>Etag:“5d8c72a5edda8d6a:3239″</p> <p>客户端的查询更新格式是这样的：</p> <p>If-None-Match:“5d8c72a5edda8d6a:3239″</p> <p>如果ETag没改变，则返回状态304。</p> <p>即:在客户端发出请求后，HttpReponse Header中包含Etag:“5d8c72a5edda8d6a:3239″</p> <p>标识，等于告诉Client端，你拿到的这个的资源有表示ID：5d8c72a5edda8d6a:3239。当下次需要发Request索要同一个URI的时候，浏览器同时发出一个If-None-Match报头(Http RequestHeader)此时包头中信息包含上次访问得到的Etag:“5d8c72a5edda8d6a:3239″标识。</p> <p>If-None-Match:“5d8c72a5edda8d6a:3239“</p> <p>,这样，Client端等于Cache了两份，服务器端就会比对2者的etag。如果If-None-Match为False，不返回200，返回304(Not Modified) Response。</p> <h4 id="cache-control-是绝对时间还是相对时间"><a href="#cache-control-是绝对时间还是相对时间" class="header-anchor">#</a> cache-control 是绝对时间还是相对时间</h4> <p>Expires与Cache-Control原理：<br>
他们都是服务端用来约定和客户端的有效时间，格式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>Expire: Thu, 31 Dec 2037 23:55:55 GMT
Cache-Control: max-age = 31536000
</code></pre></div><ol><li>浏览器第一次跟服务器请求一个资源，服务器在返回这个资源的同时，在response的header会加上Expires/cache-control的header；</li> <li>浏览器在请求这个资源时，先从缓存中寻找，找到这个资源后，比较expires或cache-control的max-age字段值做比较，如果在有效期内，则缓存命中，读取缓存内容，否则重新向服务器发送请求；</li> <li>Header在重新加载的时候会被更新</li></ol> <p>联系和区别：</p> <ul><li>Expires规定了缓存失效时间（Date为当前时间）,而Cache-Control的max-age规定了缓存的有效时间，前者是绝对时间，后者是相对时间</li> <li>Expires是HTTP1.0的东西，而Cache-Control是HTTP1.1的</li> <li>若响应头Expires和Cache-Control同时存在，Cache-Control优先级高于Expire<br>
缺点:</li> <li>Exipires返回的是一个绝对时间，在服务器时间与客户端时间相差较大的时候，缓存命中不准确，如：随意修改客户端时钟。</li></ul> <p>如果单只设置有效时间，如文件过了有效期后，内容并没有发生改变，还是可以用缓存数据，这个时候又怎么判断服务端文件有没有更新呢？主要有两种方式：</p> <p><a href="https://juejin.im/post/5c2d6c9ae51d450cf4195a08" target="_blank" rel="noopener noreferrer">Cache-Control字段值详解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="map和object的区别"><a href="#map和object的区别" class="header-anchor">#</a> map和Object的区别</h3> <ol><li>Object对象有原型，也就是说他有默认的key值在对象上面， 除非我们使用Object.create(null)创建一个没有原型的对象</li> <li>在Object对象中， 只能把String和Symbol作为key值， 但是在Map中，key值可以是任何基本类型(String, Number, Boolean, undefined, NaN….)，或者对象(Map, Set, Object, Function , Symbol , null….)</li> <li>通过Map中的size属性， 可以很方便地获取到Map长度， 要获取Object的长度， 你只能用别的方法了
Map实例对象的key值可以为一个数组或者一个对象，或者一个函数，比较随意 ，而且Map对象实例中数据的排序是根据用户push的顺序进行排序的， 而Object实例中key,value的顺序就是有些规律了， (他们会先排数字开头的key值，然后才是字符串开头的key值)</li></ol> <h4 id="什么时候用map"><a href="#什么时候用map" class="header-anchor">#</a> 什么时候用map</h4> <p><a href="https://juejin.im/post/5c7f6251f265da2dce1f68d3" target="_blank" rel="noopener noreferrer">Object与Map的异同及使用场景<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="commonjs和es-6-import-除了写法上还有什么区别"><a href="#commonjs和es-6-import-除了写法上还有什么区别" class="header-anchor">#</a> Commonjs和es 6 import 除了写法上还有什么区别</h3> <p>import静态编译，import的地址不能通过计算</p> <p>require就可以，例如 const url = &quot;a&quot; + &quot;b&quot;;</p> <p>Import url 直接报错了</p> <p>require(url)不会报错</p> <p>所以require都会用在动态加载的时候</p> <h3 id="requestanimationframe和settimeout的区别、为什么raf会比较好"><a href="#requestanimationframe和settimeout的区别、为什么raf会比较好" class="header-anchor">#</a> requestAnimationFrame和setTimeout的区别、为什么RAF会比较好</h3> <h3 id="实现一个拖拽组件、怎么防止频繁触发，你会改变哪个属性达到效果"><a href="#实现一个拖拽组件、怎么防止频繁触发，你会改变哪个属性达到效果" class="header-anchor">#</a> 实现一个拖拽组件、怎么防止频繁触发，你会改变哪个属性达到效果</h3> <h3 id="手写一个节流函数"><a href="#手写一个节流函数" class="header-anchor">#</a> 手写一个节流函数</h3> <h3 id="有以下一个数组，请实现一个单链表"><a href="#有以下一个数组，请实现一个单链表" class="header-anchor">#</a> 有以下一个数组，请实现一个单链表</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="数组和链表搜索、删除、查找的复杂度"><a href="#数组和链表搜索、删除、查找的复杂度" class="header-anchor">#</a> 数组和链表搜索、删除、查找的复杂度</h3> <h3 id="热更新如何做到增量更新、如何做到强制更新"><a href="#热更新如何做到增量更新、如何做到强制更新" class="header-anchor">#</a> 热更新如何做到增量更新、如何做到强制更新</h3></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/syun0216/Front-end-notes/edit/master//interview/Shopee1面.md" target="_blank" rel="noopener noreferrer">在Github上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">1/18/2020, 10:32:56 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Front-end-notes/interview/乐信2面.html" class="prev">乐信2面</a></span> <span class="next"><a href="/Front-end-notes/interview/高频面试总结.html">高频面试总结</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Front-end-notes/assets/js/app.baf04e08.js" defer></script><script src="/Front-end-notes/assets/js/2.483483f3.js" defer></script><script src="/Front-end-notes/assets/js/16.bdb2989e.js" defer></script>
  </body>
</html>
